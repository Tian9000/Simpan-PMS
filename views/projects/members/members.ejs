<% include ../../partials/header %>
<% include ../../partials/navbar %>
<% include ../../partials/sidebar %>

<div class="container">
  <div class="jumbotron mt-3">
    <div class="form-group">
      <h2>Member</h2>
      <h3>Filters</h3>
      <!-- ============ filters =============== -->
      <form action="/projects/members/<%= id %>">
        <input type="hidden" name="page" value="1" />

        <div class="form-group row">
            <input class="form-check-input col-sm-1" type="checkbox" name="checkid2" id="defaultCheck"
                <%= (query.checkid2) ? ' checked ': ''%>>
            <label for="id" class="col-sm-2 form-check-label">Member ID</label>
            <div class="col-6">
                <input class="form-control" type="text" placeholder="ID" id="id2" name="formid2"
                    value="<%= query.formid2 %>">
            </div>
        </div>

        <div class="form-group row">
            <input class="form-check-input col-sm-1" type="checkbox" name="checkname2" id="defaultCheck"
                <%= (query.checkname2) ? ' checked ': ''%>>
            <label for="name" class="col-sm-2 form-check-label"> Name</label>
            <div class="col-6">
                <select class="custom-select" name="formname2">
                    <option value="">Choose the Member Name...</option>
                    <% users.forEach((item)=>{%>
                    <option value="<%= item.userid%>" <%= query.formname2 == item.userid ? 'selected' : '' %>>
                        <%= item.firstname + ' ' + item.lastname %>
                    </option>
                    <%})%>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <input class="form-check-input col-sm-1" type="checkbox" name="checkposition2" id="defaultCheck1"
                <%= (query.checkposition2) ? ' checked ': ''%>>
            <label for="position" class="col-sm-2 form-check-label">Position</label>
            <div class="col-6">
                <select class="custom-select" name="formposition2">
                    <option value="">Choose the position ...</option>
                    <% role.forEach((item)=>{%>
                    <option value="<%= item.position %>"
                        <%= query.formposition2 == item.position ? 'selected':''; %>>
                        <%= item.position %>
                    </option>
                    <%})%>
                </select>
            </div>
        </div>


        <button type="submit" class="btn btn-primary btn-sm">Search</button>
        <a href="/projects/members/<%= id %>" class="btn btn-warning btn-sm">Reset</a>
        <hr class="my-2">
    </form>

    <br>
    <h2>Option</h2>
    <div class="form-group">
      <div class="form-group row">
        <legend class="col-form-label col-sm-2 pt-0">Columns</legend>
        <div class="col-sm-10">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="gridRadios" id="gridRadios1" value="option1">
            <label class="form-check-label" for="gridRadios1">
              ID
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="gridRadios" id="gridRadios2" value="option2">
            <label class="form-check-label" for="gridRadios2">
              Name
            </label>
          </div>
          <div class="form-check disabled">
            <input class="form-check-input" type="checkbox" name="gridRadios" id="gridRadios3" value="option3">
            <label class="form-check-label" for="gridRadios3">
              Member
            </label>
          </div>
        </div>
      </div>

      <button class="btn btn-primary">Apply</button>
      <br>
      <br>
      </fieldset>
      <table class="table" id="mydatatable">
        <thead>
          <tr>
            <th scope="col">Member ID</th>
            <th scope="col">Name</th>
            <th scope="col">Position</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% data.forEach((item)=>{%>
          <tr>
            <th scope="row"><%= item.id %></th>
            <td><%= item.firstname %> <%=item.lastname%></td>
            <td><%= item.role %></td>
            <td><a href="/projects/members/<%= id %>/edit/<%= item.id%>" class="btn btn-success">Edit</a>
              <a href="/projects/members/<%= id %>/delete/<%= item.id%>" class="btn btn-danger"
                onclick="return confirm('Are you sure you want to delete this item?');">Delete</a></td>
          </tr>
          <%})%>
        </tbody>
      </table>


      <a href="/projects/members/<%= id %>/add" class="btn btn-primary">Add</a>
    </div>
  </div>